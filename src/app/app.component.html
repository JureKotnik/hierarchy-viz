<div class="app-container">
  
  <header class="main-header">
    <div class="brand">
      <h1>HierarchyViz <span class="badge">Pro</span></h1>
      <p>XML/JSON Recursive Data Visualizer</p>
    </div>

    <div class="search-bar">
      <input 
        #searchInput
        type="text" 
        placeholder="Search nodes (e.g., 'CTO')..."
        (keyup)="onSearch(searchInput.value)"
      >
      <span class="search-icon">ğŸ”</span>
    </div>
    <div class="toolbar">
  <div class="group">
    <button (click)="downloadJson()">ğŸ’¾ Export JSON</button>
    <button (click)="downloadXml()">ğŸ“„ Export XML</button>
  </div>
  
  <div class="group">
    <input 
      #fileInput 
      type="file" 
      (change)="onFileSelected($event)" 
      accept=".xml" 
      style="display: none;"
    >
    <button class="btn-secondary" (click)="fileInput.click()">
      ğŸ“‚ Import XML
    </button>
  </div>
</div>
  </header>

  <main class="workspace">
    
    <div class="tree-wrapper" *ngIf="treeData$ | async as treeData">
      <app-node 
        *ngFor="let rootNode of treeData" 
        [node]="rootNode">
      </app-node>
    </div>

    <div class="empty-state" *ngIf="(treeData$ | async)?.length === 0">
      <p>No data loaded. Start by adding a root node.</p>
    </div>

  </main>

  <footer>
    <p>Angular 19 â€¢ RxJS â€¢ Recursive Algorithms</p>
  </footer>

</div>